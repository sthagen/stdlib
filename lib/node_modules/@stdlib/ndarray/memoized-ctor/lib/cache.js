/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

'use strict';

// MODULES //

var dtypes = require( '@stdlib/ndarray/dtypes' );
var KEY_OPTION_VALUES = require( './key_option_values.json' );


// VARIABLES //

var DTYPES = dtypes();
var len = DTYPES.length;
var N = KEY_OPTION_VALUES.length;


// MAIN //

/**
* Returns a constructor cache.
*
* ## Notes
*
* -   Should return something similar to the following:
*
*     ```text
*     {
*         "float64,codegen,true,mode,\"throw\",submode,[\"throw\"]": [],
*         "float64,codegen,false,mode,\"throw\",submode,[\"throw\"]": [],
*         "float32,codegen,true,mode,\"throw\",submode,[\"throw\"]": [],
*         "float32,codegen,false,mode,\"throw\",submode,[\"throw\"]": [],
*         ...
*     }
*     ```
*
* @private
* @returns {Object} constructor cache
*/
function cache() {
	var out;
	var key;
	var dt;
	var i;
	var j;

	out = {};
	for ( i = 0; i < len; i++ ) {
		dt = DTYPES[ i ];
		for ( j = 0; j < N; j++ ) {
			key = dt + ',' + KEY_OPTION_VALUES[ j ];
			out[ key ] = []; // Note: we use an array to avoid unordered key look-up
		}
	}
	return out;
}


// EXPORTS //

module.exports = cache;
